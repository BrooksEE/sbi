
// a global variable.
int state=0;

void _debug(int val) {
  val = val - 1;
  debug(val);
}

int math(int a, int b, int c) {
   return c/(a+b);
}

// main
void main() {
  int tId = thread(thread2);
  wait (tId);
  int c=0;
  while(c<10) {
     c = c+ 1;
  }
  _debug (c);
}

// another counter thread
void thread2 () {
  int c=0;
  while(c<=20) c = c+ 1;
  debug(c);
  while(c) {
     c = c-1;
     if (c<3) {
        debug(c);
     } else 
        debug ( math ( 0xff, 1, c ) );
  }
}


